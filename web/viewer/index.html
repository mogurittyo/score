<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI Image Scoring & Management System - Web Viewer">
    <title>AI画像ビューア (Web)</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.ico"> <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="container header-content">
            <h1>AI画像ビューア (Web)</h1>
            <div class="status-area">
                <p>最終同期: <span id="lastSyncTime">N/A</span></p>
                <p>削除リクエスト(サーバー): <span id="deleteQueueCount">0</span> 件</p>
            </div>
            <div class="header-actions">
                <button id="refreshDataBtn" title="データ再読み込み">🔄 再読込</button>
                <button id="deleteModeBtn" title="削除モード切替">削除モード OFF</button>
                <button id="settingsBtn" title="設定 (簡易)">⚙️ 設定</button>
            </div>
        </div>
    </header>

    <div class="controls-bar">
        <div class="container controls-content">
            <div>
                <label for="sortBy">ソート:</label>
                <select id="sortBy">
                    <option value="score_final">スコア</option>
                    <option value="filename">ファイル名</option>
                    <option value="added_date">追加日</option>
                </select>
                <select id="sortOrder">
                    <option value="desc">降順</option>
                    <option value="asc">昇順</option>
                </select>
            </div>
            <div>
                <label for="scoreThreshold">スコアフィルタ:</label>
                <input type="range" id="scoreThreshold" min="0" max="10" step="0.1" value="0">
                <span id="scoreThresholdValue">0.0</span>
                <input type="checkbox" id="showLowScoreToggle" checked>
                <label for="showLowScoreToggle" class="checkbox-label">低スコアも表示</label>
            </div>
            <div>
                <label for="galleryColumns">列数:</label>
                <input type="number" id="galleryColumns" min="1" max="10" value="4">
            </div>
        </div>
    </div>

    <main class="container">
        <div id="imageGallery" class="image-gallery">
            <p id="loadingMessage">画像を読み込み中...</p>
            <p id="errorMessage" class="error-message" style="display:none;"></p>
            <p id="noImagesMessage" style="display:none;">表示できる画像がありません。</p>
        </div>
    </main>

    <footer>
        <p>&copy; <span id="currentYear"></span> AI画像スコアリング＆管理システム</p>
    </footer>

    <div id="lightboxModal" class="lightbox-modal">
        <span class="lightbox-close-btn">&times;</span>
        <img class="lightbox-content" id="lightboxImage" src="#" alt="拡大画像">
        <div id="lightboxCaption"></div>
    </div>

    <script src="script.js"></script>
</body>
</html>
